{"ast":null,"code":"var _jsxFileName = \"/Users/trevor/Documents/projects/front-end/co-make/src/components/EditIssue.js\";\nimport React, { useEffect } from 'react';\nimport { Col, Row, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { ErrorMessage } from '@hookform/error-message';\nimport { useForm } from 'react-hook-form';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { deleteIssue } from '../store/actions/issuesActions';\nimport { editIssue } from '../store/actions/issuesActions';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from \"yup\";\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nconst schema = yup.object().shape({});\n\nfunction EditIssue(props) {\n  const {\n    deleteIssue,\n    editIssue\n  } = props;\n  const {\n    id\n  } = useParams();\n  const {\n    push\n  } = useHistory();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    reset\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(schema),\n    defaultValues: {\n      author_id: 0,\n      title: '',\n      description: '',\n      street_address: '',\n      address_notes: '',\n      city: '',\n      state: '',\n      zip_code: ''\n    }\n  });\n\n  const getFormData = () => {\n    axiosWithAuth().get(`/issues/${id}`).then(itemToEdit => {\n      reset({\n        title: itemToEdit.data.title,\n        description: itemToEdit.data.description,\n        street_address: itemToEdit.data.street_address,\n        address_notes: itemToEdit.data.address_notes,\n        city: itemToEdit.data.city,\n        state: itemToEdit.data.state,\n        zip_code: itemToEdit.data.zip_code\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getFormData();\n  }, [id]);\n\n  const onSubmit = editedIssue => {\n    console.log(editedIssue);\n    const replacedIssue = { ...editedIssue,\n      id: id\n    };\n    editIssue(replacedIssue);\n    setTimeout(() => {\n      push(`/issues`);\n    }, 1000);\n  };\n\n  const onDelete = id => {\n    deleteIssue(id);\n    setTimeout(() => {\n      push(`/`);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-issue-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Edit your Issue\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-issue-form-img-parent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-issue-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }, \"Title of Report\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"title\",\n    invalid: errors.title ? true : false // onChange={onChange}\n    ,\n    innerRef: register({\n      required: \"A title is required\"\n    }),\n    placeholder: \"Pothole, etc.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: errors,\n    name: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 37\n    }\n  }, \"Description of problem\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    name: \"description\",\n    invalid: errors.description ? true : false,\n    innerRef: register({\n      required: \"A description is required and needs to be 10 characters long\",\n      minLength: 10\n    }),\n    placeholder: \"What seems to be the issue?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: errors,\n    name: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"street_address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 37\n    }\n  }, \"Incident Location\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"street_address\",\n    innerRef: register,\n    placeholder: \"1234 Main St (optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"address_notes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  }, \"Special Instructions\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"address_notes\",\n    innerRef: register,\n    placeholder: \"Is there anything else you need us to know about the location of the issue? (optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"city\",\n    invalid: errors.city ? true : false,\n    innerRef: register({\n      required: \"City is required\"\n    }),\n    placeholder: \"New York, Chicago, etc.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: errors,\n    name: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, \"State\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"state\",\n    invalid: errors.state ? true : false,\n    innerRef: register({\n      required: \"State is required\"\n    }),\n    placeholder: \"New York, NY, etc.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: errors,\n    name: \"state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"zip_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 37\n    }\n  }, \"Zip Code\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"zip_code\",\n    invalid: errors.zip_code ? true : false,\n    innerRef: register({\n      required: \"Zip code is required\"\n    }),\n    placeholder: \"12345, etc.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: errors,\n    name: \"zip_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"add-issue-submit-btn\",\n    onClick: handleSubmit(onSubmit),\n    size: \"lg\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, \"Confirm Changes\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"add-issue-clear-btn\",\n    onClick: () => push('/'),\n    outline: true,\n    color: \"secondary\",\n    size: \"lg\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"delete-btn\",\n    onClick: () => onDelete(id),\n    outline: true,\n    color: \"secondary\",\n    size: \"lg\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-issue-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://images.unsplash.com/photo-1533153900060-648d6009083a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60\",\n    alt: \"graphic of road construction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }))));\n}\n\nexport default connect(null, {\n  deleteIssue,\n  editIssue\n})(EditIssue);","map":{"version":3,"sources":["/Users/trevor/Documents/projects/front-end/co-make/src/components/EditIssue.js"],"names":["React","useEffect","Col","Row","Button","Form","FormGroup","Label","Input","ErrorMessage","useForm","useParams","useHistory","connect","deleteIssue","editIssue","yupResolver","yup","axiosWithAuth","schema","object","shape","EditIssue","props","id","push","register","handleSubmit","errors","reset","mode","resolver","defaultValues","author_id","title","description","street_address","address_notes","city","state","zip_code","getFormData","get","then","itemToEdit","data","catch","err","console","log","onSubmit","editedIssue","replacedIssue","setTimeout","onDelete","required","minLength"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Col, Row, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { ErrorMessage } from '@hookform/error-message';\nimport { useForm } from 'react-hook-form'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { deleteIssue } from '../store/actions/issuesActions';\nimport { editIssue } from '../store/actions/issuesActions';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from \"yup\";\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nconst schema = yup.object().shape({\n});\nfunction EditIssue(props){\n\n    const { deleteIssue, editIssue } = props;\n\n    const { id } = useParams()\n    const { push } = useHistory()\n    const { register, handleSubmit, errors, reset } = useForm({ \n        mode: \"onBlur\",\n        resolver: yupResolver(schema),\n        defaultValues: { \n            author_id: 0,\n            title: '',\n            description: '',\n            street_address: '',\n            address_notes: '',\n            city: '',\n            state: '',\n            zip_code: '',\n        } \n    });\n    const getFormData = () => { \n        axiosWithAuth()\n            .get(`/issues/${id}`)\n            .then(itemToEdit => {\n                reset({ \n                    title: itemToEdit.data.title,\n                    description: itemToEdit.data.description,\n                    street_address: itemToEdit.data.street_address,\n                    address_notes: itemToEdit.data.address_notes,\n                    city: itemToEdit.data.city,\n                    state: itemToEdit.data.state,\n                    zip_code: itemToEdit.data.zip_code,\n                })\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }\n    useEffect(() => {\n        getFormData()\n    }, [id])\n \n    const onSubmit = (editedIssue) => { \n        console.log(editedIssue)\n        const replacedIssue = { ...editedIssue, id: id}\n        editIssue(replacedIssue)\n        setTimeout(() => {\n            push(`/issues`);\n          }, 1000)\n    }\n    const onDelete = (id) => {\n        deleteIssue(id)\n        setTimeout(() => {\n            push(`/`);\n          }, 1000)\n    }\n    return (\n        <div className='new-issue-container'>\n            <div>\n                <h3>Edit your Issue</h3>\n            </div>\n            <div className='new-issue-form-img-parent'>\n                <div className='new-issue-form'>\n                    <Form>\n                        <Row form>\n                            <Col md={4}/>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label for='title'>Title of Report</Label>\n                                    <Input \n                                        type='text' \n                                        name='title' \n                                        invalid={errors.title ? true : false}\n                                        // onChange={onChange}\n                                        innerRef={register({required: \"A title is required\"})} \n                                        placeholder='Pothole, etc.'\n                                    />\n                                    <ErrorMessage errors={errors} name='title' />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row form>\n                            <Col md={1}/>\n                            <Col md={10}>\n                                <FormGroup>\n                                    <Label for='description'>Description of problem</Label>\n                                    <Input \n                                        type='textarea' \n                                        name='description' \n                                        invalid={errors.description ? true : false}\n                                        innerRef={register({required: \"A description is required and needs to be 10 characters long\", minLength: 10})} \n                                        placeholder='What seems to be the issue?'\n                                    />\n                                    <ErrorMessage errors={errors} name='description' />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row form>\n                            <Col md={3}/>\n                            <Col md={3}>\n                                <FormGroup>\n                                    <Label for='street_address'>Incident Location</Label>\n                                    <Input \n                                        type='text' \n                                        name='street_address' \n                                        innerRef={register} \n                                        placeholder='1234 Main St (optional)'\n                                    />\n                                </FormGroup>\n                            </Col>\n                            <Col md={3}>\n                                <FormGroup>\n                                    <Label for='address_notes'>Special Instructions</Label>\n                                    <Input \n                                        type='text' \n                                        name='address_notes'\n                                        innerRef={register} \n                                        placeholder='Is there anything else you need us to know about the location of the issue? (optional)'\n                                    />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row form>\n                        </Row>\n                        <Row form>\n                            <Col md={2}/> \n                            {/* centering the city, state and zip_code  */}\n                            <Col md={3}>\n                                <FormGroup>\n                                    <Label for='city'>City</Label>\n                                    <Input \n                                        type='text' \n                                        name='city' \n                                        invalid={errors.city ? true : false}\n                                        innerRef={register({required: \"City is required\"})}\n                                        placeholder='New York, Chicago, etc.'\n                                    />\n                                    <ErrorMessage errors={errors} name='city' />\n                                </FormGroup>\n                            </Col>\n                            <Col md={3}>\n                                <FormGroup>\n                                    <Label for='state'>State</Label>\n                                    <Input \n                                        type='text' \n                                        name='state' \n                                        invalid={errors.state ? true : false}\n                                        innerRef={register({required: \"State is required\"})}\n                                        placeholder='New York, NY, etc.'\n                                    />\n                                    <ErrorMessage errors={errors} name='state' />\n                                </FormGroup>\n                            </Col>\n                            <Col md={2}> \n                                <FormGroup>\n                                    <Label for='zip_code'>Zip Code</Label>\n                                    <Input \n                                        type='text' \n                                        name='zip_code' \n                                        invalid={errors.zip_code ? true : false}\n                                        innerRef={register({required: \"Zip code is required\"})}\n                                        placeholder='12345, etc.'\n                                    />\n                                    <ErrorMessage errors={errors} name='zip_code' />\n                                </FormGroup>\n                            </Col>\n                            <Col md={2}/>\n                        </Row>\n                        <Row form>\n                            <Button id='add-issue-submit-btn' onClick={handleSubmit(onSubmit)}  size=\"lg\" block>Confirm Changes</Button>\n                            <Button id='add-issue-clear-btn' onClick={() => push('/')} outline color=\"secondary\" size=\"lg\" block>Cancel</Button>\n                            <Button id='delete-btn' onClick={() => onDelete(id)} outline color=\"secondary\" size=\"lg\" block>Delete</Button>\n                        </Row>\n                    </Form>\n                </div>\n                <div className='new-issue-img'>\n                <img\n                    src='https://images.unsplash.com/photo-1533153900060-648d6009083a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60' \n                    alt='graphic of road construction'\n                />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default connect(null, { deleteIssue, editIssue })(EditIssue);\n    \n\n"]},"metadata":{},"sourceType":"module"}